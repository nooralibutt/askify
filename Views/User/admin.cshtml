@model System.Collections.Generic.List<Askify.Models.User>
@{
    ViewBag.Title = "Admin | Askify";
    var current_user = (Askify.Models.User)Session["session_current_user"];
}

<div class="top_mrgn">
	<div class="page-header">
      <h1>Welcome <small>Admin</small></h1>
    </div>
</div>

<table class="table table-striped">
    <tr>
        <th>
            Username
        </th>
        <th>
            Email
        </th>
        <th>
            Number of questions
        </th>
        <th>
            Number of answers
        </th>
        <th>
            Registered Since
        </th>
        <th>
            Remove User
        </th>
    </tr>
    @foreach( var f in Model)
    {
        if(f.Id != current_user.Id){
        <tr>
            <th>
                @f.first_name @f.last_name
            </th>
            <th>
                @f.email
            </th>
            <th>
                @f.Questions.Count
            </th>
            <th>
                @f.Answers.Count
            </th>
            <th>
                @f.created_at
            </th>
            <th>
                <a href="~/user/deleteByAdmin/@f.Id">Delete</a>
            </th>
        </tr>}
    }
</table>
